<ion-header>
  <ion-toolbar color="danger">
    <ion-title>Home</ion-title>
    <ion-buttons slot="end">
      <ion-button>
        <ion-icon slot="icon-only" name="map"></ion-icon>
      </ion-button>
      <ion-button>
        <ion-icon slot="icon-only" name="search"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<super-tabs color="danger">
  <super-tabs-toolbar slot="top">
    <super-tab-button>
      <ion-label>Clubs And Bars</ion-label>    
    </super-tab-button>
    <super-tab-button>
      <ion-label>Events</ion-label>    
    </super-tab-button>
  </super-tabs-toolbar>
  <super-tabs-container>
    <super-tab>
      <ion-content>
        <div [routerLink]="'/establishment-details/' + entry.establishment_id" detail="true" *ngFor="let entry of estService.establishments">
          <!--<ion-card  *ngIf="entry.photos">-->
            <ion-card>
            <div class="card-background-page">
              <img src="{{entry.image_url}}"/>
              <div class="overlay"></div>
              <!--<img src="https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photoreference={{entry.photos[0].photo_reference}}&key=AIzaSyBqjZyp0Ct09jHgDHWTpcJoC5BT_O7uDN4"/>-->
              <div class="card-title">{{entry.name}}</div>
              <div class="card-subtitle">{{entry.address}}</div>
            </div>
            
            <ion-card-content  class="center">
              <ion-card-title>
                {{entry.rating | number:'1.1'}}
              </ion-card-title>
              <ion-row>
                <ion-col>
                  <round-progress [current]="entry.current_capacity_percentage" [radius]="45" [color]="'#ffcc66'" [stroke]="7" [max]="max"
                  style="width:65px;height: 65px;">
                  </round-progress>
                  <span class="checked-in-text">
                    <p>{{entry.current_capacity_percentage}}%</p> 
                    <p>Full</p>
                  </span>
                </ion-col>
                <!--
                <ion-col>
                  <div class="quote-text">
                    <p>Book This Venue</p>
                    <p>Prices From</p>
                    <p>R10 000</p>
                    <p>Get A Quote</p>
                  </div>
                </ion-col>
                -->
                <ion-col>
                  <div class="quote-text round-border">
                    <p>{{entry.entry_fee}}</p>
                    <p>Entry</p>
                  </div>
                </ion-col>
              </ion-row>
                <p class="proximity-text">10 km from your current position</p>
            </ion-card-content>
          </ion-card>
        </div>
      </ion-content>
    </super-tab>
    <super-tab>
      <ion-content class="card-background-page">
        <ion-card *ngFor="let entry of establishments">
          <img src="{{entry.image_url}}"/>
          <div class="card-title">{{entry.name}}</div>
          <div class="card-subtitle">{{entry.place}}</div>
        </ion-card>
      </ion-content>
    </super-tab>
  </super-tabs-container>
</super-tabs>

